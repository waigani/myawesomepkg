tenets:
  - name: wrap_errs
    flows:
      codelingo/review:
        comment: |
	 Please wrap the error var "{{errorVar}}" in error.Trace when returning it.
	 ```suggestion
				errors.Trace(error)
	 ```
    query: |
      import (
        codelingo/ast/go
      )

      go.func_decl(depth = any):
        go.assign_stmt(depth = any):
          go.lhs:
            @review comment
            go.ident:
              @var errorVar
              name as errname
              type == "error"

        exclude:
          go.return_stmt(depth = any):
            go.results:
              go.call_expr:
                go.selector_expr:
                  go.ident:
                    name == "Trace"
                go.args:
                  go.ident:
                    name == errname
            


