tenets:
  - name: wrap_errs
    doc: Ensure all errors are handled with the errors package.
    bots:
      codelingo/clair:
        comments: Please wrap error in error.Trace.
    query: |
      import codelingo/ast/go/0.0.0

      @ clair.comment
      go.func_decl({depth: any}):
        go.assign_stmt({depth: any}): 
          go.ident({depth: any}):
            type: "error"
        !go.if_stmt({depth: any}):
          go.binary_expr:
            go.ident({depth: any}):
              type: "error"
          go.call_expr
